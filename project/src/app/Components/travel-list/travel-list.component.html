
<div> 
  <h1> נסיעות</h1>
<button class="btn" mat-button (click)="openPackageDialog()"> צור משלוח</button>
<br><br>

<div>
  <input matInput  [min]="minDate" [matDatepicker]="picker" placeholder="תאריך" #date>
  <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle> 
  <mat-datepicker  [dateClass]="dateClass" #picker></mat-datepicker>

  <input matInput type="text" placeholder="מוצא" ngx-google-places-autocomplete 
   #placesRef="ngx-places" (onAddressChange)="handleAddressFromChange($event)" #fromL>

  <input matInput type="text" placeholder="יעד" ngx-google-places-autocomplete  
  #placesRef="ngx-places" (onAddressChange)="handleAddressToChange($event)" #toL>

  <input matInput type="time" placeholder="שעת יציאה" #time>

  <!-- <button mat-button (click)="searchSpesificDrives(date.value,fromL.value,toL.value,time.value)">חפש תוצאות</button> -->
  <button mat-button (click)="searchDriver(date.value,time.value)">חפש תוצאות</button>


</div>

<br>
<table >
  <th> תאריך </th>
  <th> מוצא </th>
  <th> יעד </th>
  <th> שעת יציאה </th>
  <th> מרחק </th>
  <th> <mat-icon >email</mat-icon> </th>
  <th></th>
  <tr *ngFor="let drive of allDrives">
<td> {{drive.travelDate.date}}</td>
<td> {{drive.fromLocationFormat}}</td>
<td> {{drive.toLocationFormat}}</td>
<td> {{drive.drivingTime}}</td>
<td>מרחק</td>
<td>
  <button mat-button (click)="sendEmail(drive)" >שלח מייל</button>
</td>
<td><mat-icon (click)="showMore(drive)" >expand_more</mat-icon></td>
<td >{{drive.driverCode}}</td>
  </tr>
   
</table>

</div>

 